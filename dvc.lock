schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: 80dd3ebe9993387b099ed4b6f755cb3a
      size: 3514
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: 5399bccb72e141c1021bb255e62e9579
      size: 4769
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 42
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 12223cf71910c11aa508fdf79c300704
      size: 8480319
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: 0e7e2dff8795999d31fd95d05fc69367
      size: 141163
    - path: ./models/scaler.joblib
      hash: md5
      md5: 9fb62ab62bdaf089f8bfe524d8c2dedf
      size: 999
  feature_processing:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 12223cf71910c11aa508fdf79c300704
      size: 8480319
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: fb12c9d4b35d7e264e8029a3c3b159e2
      size: 2786
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 90e840dcb784030ec308dd1f28c9b45d
      size: 9609290
  train:
    cmd: python ./src/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 90e840dcb784030ec308dd1f28c9b45d
      size: 9609290
    - path: ./src/models/train.py
      hash: md5
      md5: 2b8d933a2c490a40bb62d95cd459bde8
      size: 2283
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: a82047d95a7b0fc1975ead38c47cd980
      size: 3607
    - path: ./models/model.joblib
      hash: md5
      md5: 5bcf5ba86b540e1fd6992df4c5d1ad95
      size: 2344
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 90e840dcb784030ec308dd1f28c9b45d
      size: 9609290
    - path: ./models/encoder.joblib
      hash: md5
      md5: a82047d95a7b0fc1975ead38c47cd980
      size: 3607
    - path: ./models/model.joblib
      hash: md5
      md5: 5bcf5ba86b540e1fd6992df4c5d1ad95
      size: 2344
    - path: ./src/models/evaluate.py
      hash: md5
      md5: 078c6bd76833bb8eb7f0faa715bdd27b
      size: 4384
    outs:
    - path: ./run_information.json
      hash: md5
      md5: a9c47ee5747892d84a5bd8403193adc9
      size: 175
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: a9c47ee5747892d84a5bd8403193adc9
      size: 175
    - path: ./src/models/register_model.py
      hash: md5
      md5: b6244e3af0eb0c62f00a5620ab1648b2
      size: 2487
